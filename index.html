<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>MoonDigi</title>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    html,
    body {
        height: 100%;
        background: #000;
    }

    #dot {
        position: fixed;
        z-index: 1;
        width: 100%;
        height: 100%;
        background: url(img/dot.png) repeat;
    }

    #ph {
        position: fixed;
        min-width: 100%;
        min-height: 100%;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        visibility: hidden;
    }

    #vbg {
        position: fixed;
        min-width: 100%;
        min-height: 100%;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
</style>

<div id="dot"></div>
<img id="ph">
<video id="vbg" loop muted></video>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const ph = document.getElementById('ph');
        const vbg = document.getElementById('vbg');
        try {
            const phResponse = await fetch('img/ph.jpg');
            const phBlob = await phResponse.blob();
            ph.src = URL.createObjectURL(phBlob);
            ph.style.visibility = 'visible';

            const vbgResponse = await fetch('img/vbg.m4v');
            const vbgBlob = await vbgResponse.blob();
            vbg.src = URL.createObjectURL(vbgBlob);
            vbg.play();
            ph.style.display = 'none';
        } catch (error) {
            console.error(error);
        }
    })
</script>